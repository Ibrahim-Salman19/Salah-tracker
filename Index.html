<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0f5132" />
    <title>Salah Tracker — Track your prayers</title>

    <!-- PWA / Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Favicons / icons (place your icons in /icons) -->
    <link rel="icon" href="/icons/icon48.png" sizes="48x48" />

    <!-- Styles -->
    <link rel="stylesheet" href="/style.css" />

    <!-- Meta for social sharing (optional) -->
    <meta name="description" content="Salah Tracker — simple web app to log and visualise daily prayers, build consistency in worship." />

    <!-- Optional: include fonts here -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"> -->

  </head>

  <body>
    <header class="app-header">
      <div class="container header-inner">
        <h1 class="app-title">Salah Tracker</h1>
        <nav class="header-actions">
          <button id="open-data-manager" class="btn">Data Manager</button>
          <button id="open-settings" class="btn btn-ghost">Settings</button>
        </nav>
      </div>
    </header>

    <main class="container">
      <!-- Quick status / today summary -->
      <section id="today-summary" class="card">
        <div class="summary-row">
          <div>
            <h2>Today — <span id="today-date">Loading...</span></h2>
            <p id="timezone">Timezone: <span id="tz-value">Local</span></p>
          </div>
          <div class="progress-wrap">
            <label for="daily-progress">Daily Completion</label>
            <progress id="daily-progress" value="0" max="5">0%</progress>
            <div id="progress-text">0/5 prayers</div>
          </div>
        </div>
      </section>

      <!-- Prayer list -->
      <section id="prayer-list" class="card">
        <h3>Prayers</h3>
        <ul id="prayers" class="prayer-grid" aria-live="polite">
          <!-- JS will populate prayer rows (Fajr, Dhuhr, Asr, Maghrib, Isha) -->
        </ul>
      </section>

      <!-- Visualisation -->
      <section id="analytics" class="card">
        <h3>Consistency Chart</h3>
        <canvas id="prayerChart" width="600" height="300" aria-label="Prayer consistency chart"></canvas>
        <div class="chart-controls">
          <button id="zoom-week" class="btn small">7 days</button>
          <button id="zoom-month" class="btn small">30 days</button>
          <button id="export-csv" class="btn small">Export CSV</button>
        </div>
      </section>

      <!-- Footer actions -->
      <section class="card actions">
        <button id="mark-all-today" class="btn primary">Mark All Done</button>
        <button id="clear-today" class="btn danger">Clear Today</button>
        <a href="/README.md" class="link">Project README</a>
      </section>
    </main>

    <!-- Data Manager modal fallback link for small screens -->
    <div id="data-manager-modal" class="modal" hidden>
      <div class="modal-inner">
        <button id="close-data-manager" class="modal-close">×</button>
        <iframe src="/data-manager.html" title="Data Manager" class="modal-frame"></iframe>
      </div>
    </div>

    <footer class="app-footer">
      <div class="container">
        <small>Made with intention • Track your ibadah • &copy; <span id="year"></span></small>
        <div class="footer-links">
          <a href="https://github.com/Ibrahim-Salman19/Salah-tracker" target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
    </footer>

    <!-- App scripts -->
    <script>
      // Small boot utility to set static values early
      document.getElementById('year').textContent = new Date().getFullYear();
      document.getElementById('today-date').textContent = new Date().toLocaleDateString();

      // Register service worker if available
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').catch((err) => console.warn('SW registration failed:', err));
        });
      }
    </script>

    <!-- main app logic and charts (defer to the files you already have) -->
    <script src="/app.js" defer></script>
    <script src="/charts.js" defer></script>
  </body>
</html>

